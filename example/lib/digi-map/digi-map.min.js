System.register("digi-map/src/map.component",["@angular/core","esri-mods","./identify/map.identify.component"],function(a,b){"use strict";var c,d,e,f,g=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),h=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(a){this.elRef=a,this.mapLoaded=new c.EventEmitter,this.layers=[]}return a.prototype.ngOnInit=function(){var a=this,b=this;this.currentMap=new d.map("map"),this.currentMap.on("layers-add-result",function(a){var c=[];a.layers.forEach(function(a,b){var d=a.layer.layerInfos;d&&d.length>0&&c.push({layer:a.layer,title:a.layer.name})});var e=new d.Legend({map:b.currentMap,respectCurrentMapScale:!1,layerInfos:c},"legend");e.startup()}),void 0!==this.settings.layers&&(this.settings.layers.forEach(function(b){"dynamic"===b.type?a.layers.push(new d.ArcGISDynamicMapServiceLayer(b.url)):a.layers.push(new d.ArcGISTiledMapServiceLayer(b.url))}),this.currentMap.addLayers(this.layers)),void 0!==this.settings.extent&&(this.initialExtent=new d.Extent({xmin:this.settings.extent[0],ymin:this.settings.extent[1],xmax:this.settings.extent[2],ymax:this.settings.extent[3],spatialReference:new d.SpatialReference({wkid:31370})}),this.currentMap.setExtent(this.initialExtent)),this.currentMap.on("load",function(a){console.log("map loaded")})},a.prototype.toInitialExtent=function(){this.currentMap.setExtent(this.initialExtent)},g([c.Input(),h("design:type",Object)],a.prototype,"settings",void 0),g([c.Output(),h("design:type",Object)],a.prototype,"mapLoaded",void 0),a=g([c.Component({selector:"esri-map",template:' <div id="map">\n                    <map-identify [mapInstance]="currentMap"></map-identify>\n                    <ng-content></ng-content>\n                </div>',directives:[e.MapIdentityComponent]}),h("design:paramtypes",[c.ElementRef])],a)}(),a("MapComponent",f)}}}),System.register("digi-map/src/identify/map.identify.component",["@angular/core","esri-mods"],function(a,b){"use strict";var c,d,e,f=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),g=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){this.active=!1}return a.prototype.ngOnInit=function(){this.mapInstance.on("click",function(a){console.log("clicked on map"),console.log(a)})},a.prototype.onClick=function(){console.log("Toggle map-identify"),this.active=!this.active},f([c.Input(),g("design:type",d.map)],a.prototype,"mapInstance",void 0),a=f([c.Component({selector:"map-identify",template:'\t<div class="map-identify">\n\t\t\t\t\t<button (click)="onClick()">Detailgegevens</button>\n\t\t\t\t\t<span>Actief: {{active}}</span>\n\t\t\t  \t</div>',styles:[".map-identify butto { z-index: 99999999999; }"]}),g("design:paramtypes",[])],a)}(),a("MapIdentityComponent",e)}}}),System.registerDynamic("empty",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return d()}),System.register("digi-map/digi-map",["./src/map.component","./src/identify/map.identify.component","esri-mods"],function(a,b){"use strict";function c(b){var c={};for(var d in b)"default"!==d&&(c[d]=b[d]);a(c)}b&&b.id;return{setters:[function(a){c(a)},function(a){c(a)},function(a){c(a)}],execute:function(){}}});
//# sourceMappingURL=digi-map.min.js.map