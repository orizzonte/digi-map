System.register("digi-map/src/map.component",["@angular/core","esri-mods","./identify/map.identify.component","./draw/map.draw.component","./edit/map.edit.component"],function(a,b){"use strict";var c,d,e,f,g,h,i,j=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),k=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a}],execute:function(){h=function(){function a(a,b){this.name=a,this.control=b}return a}(),a("MapControl",h),i=function(){function a(a){this.elRef=a,this.mapLoaded=new c.EventEmitter,this.themes=[],this.controls=[],this.useIdentifyControl=!1,this.useDrawControl=!1,this.useEditControl=!1}return a.prototype.ngAfterViewInit=function(){this.useIdentifyControl&&this.controls.push(new h("identify",this.identify)),this.useDrawControl&&this.controls.push(new h("draw",this.draw)),this.useEditControl&&this.controls.push(new h("edit",this.edit))},a.prototype.ngOnInit=function(){var a=this,b=this;this.currentMap=new d.map("map"),this.settings.controls.indexOf("identify")!==-1&&(this.useIdentifyControl=!0),this.settings.controls.indexOf("draw")!==-1&&(this.useDrawControl=!0),this.settings.controls.indexOf("edit")!==-1&&(this.useEditControl=!0),this.currentMap.on("layers-add-result",function(a){var c=[];a.layers.forEach(function(a,b){var d=a.layer.layerInfos;d&&d.length>0&&c.push({layer:a.layer,title:a.layer.name})});var e=new d.Legend({map:b.currentMap,respectCurrentMapScale:!1,layerInfos:c},"legend");e.startup()}),void 0!==this.settings.themes&&(this.settings.themes.forEach(function(b){"dynamic"===b.type?a.themes.push(new d.ArcGISDynamicMapServiceLayer(b.url)):a.themes.push(new d.ArcGISTiledMapServiceLayer(b.url))}),this.currentMap.addLayers(this.themes)),void 0!==this.settings.extent&&(this.initialExtent=new d.Extent({xmin:this.settings.extent[0],ymin:this.settings.extent[1],xmax:this.settings.extent[2],ymax:this.settings.extent[3],spatialReference:new d.SpatialReference({wkid:31370})}),this.currentMap.setExtent(this.initialExtent)),this.currentMap.on("load",function(a){console.log("map loaded")})},a.prototype.toInitialExtent=function(){this.currentMap.setExtent(this.initialExtent)},j([c.Input(),k("design:type",Object)],a.prototype,"settings",void 0),j([c.Output(),k("design:type",Object)],a.prototype,"mapLoaded",void 0),j([c.ViewChild(e.MapIdentityComponent),k("design:type",e.MapIdentityComponent)],a.prototype,"identify",void 0),j([c.ViewChild(f.MapDrawComponent),k("design:type",f.MapDrawComponent)],a.prototype,"draw",void 0),j([c.ViewChild(g.MapEditComponent),k("design:type",g.MapEditComponent)],a.prototype,"edit",void 0),a=j([c.Component({selector:"esri-map",template:' <div id="map">\n                    <map-identify *ngIf="useIdentifyControl" [mapInstance]="currentMap"></map-identify>\n                    <map-draw *ngIf="useDrawControl" [mapInstance]="currentMap"></map-draw>\n                    <map-edit *ngIf="useEditControl" [mapInstance]="currentMap"></map-edit>\n                    <ng-content></ng-content>\n                </div>',directives:[e.MapIdentityComponent,f.MapDrawComponent,g.MapEditComponent]}),k("design:paramtypes",[c.ElementRef])],a)}(),a("MapComponent",i)}}}),System.register("digi-map/src/identify/map.identify.component",["@angular/core","esri-mods"],function(a,b){"use strict";var c,d,e,f=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),g=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){this.isActive=!1}return a.prototype.ngOnInit=function(){var a=this;this.infoWindow=new d.InfoWindowLite(null,"popup"),this.infoWindow.startup(),this.mapInstance.infoWindow=this.infoWindow,this.mapInstance.on("click",function(b){a.isActive&&(a.infoWindow.setTitle("Titel"),a.infoWindow.setContent("<span>"+b.mapPoint.x+", "+b.mapPoint.y+"</span>"),a.infoWindow.show(b.mapPoint,d.InfoWindow.ANCHOR_UPPERRIGHT))})},a.prototype.onClick=function(){this.isActive=!this.isActive,this.infoWindow.hide()},f([c.Input(),g("design:type",d.map)],a.prototype,"mapInstance",void 0),a=f([c.Component({selector:"map-identify",template:'\t<div class="map-identify">\n\t\t\t\t\t<button (click)="onClick()" [class.active]="isActive">Detailgegevens</button>\n\t\t\t  \t</div>\n\t\t\t  \t<div id="popup"></div>',styles:[".map-identify button { z-index: 99999999999; }",".active { background-color: green; color: white; }"]}),g("design:paramtypes",[])],a)}(),a("MapIdentityComponent",e)}}}),System.register("digi-map/src/draw/map.draw.component",["@angular/core","esri-mods","rxjs/Rx"],function(a,b){"use strict";var c,d,e,f,g,h=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),i=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){!function(a){a[a.Point=1]="Point",a[a.Multiline=2]="Multiline"}(f||(f={})),a("GeometryType",f),g=function(){function a(){this.activateSubject=new e.Subject,this.deactivateSubject=new e.Subject,this.drawCompleteSubject=new e.Subject,this.onActivate=this.activateSubject.asObservable(),this.onDeactivate=this.deactivateSubject.asObservable(),this.onDrawComplete=this.drawCompleteSubject.asObservable()}return a.prototype.ngOnInit=function(){var a=this;this.drawToolbar=new d.draw(this.mapInstance),this.drawToolbar.on("draw-complete",function(b){var c;switch(b.geometry.type){case"polyline":c=new d.SimpleLineSymbol;break;default:c=new d.SimpleFillSymbol}var e=new d.graphic(b.geometry,c);a.mapInstance.graphics.add(e),a.deactivate(),a.drawCompleteSubject.next(b)})},a.prototype.activate=function(a){switch(a){case f.Multiline:this.drawToolbar.activate(d.draw.POLYLINE)}this.activateSubject.next(null)},a.prototype.deactivate=function(){this.drawToolbar.deactivate(),this.deactivateSubject.next(null)},a.prototype.finishDrawing=function(){this.drawToolbar.finishDrawing()},h([c.Input(),i("design:type",d.map)],a.prototype,"mapInstance",void 0),a=h([c.Component({selector:"map-draw",template:"<div></div>"}),i("design:paramtypes",[])],a)}(),a("MapDrawComponent",g)}}}),System.register("digi-map/src/edit/map.edit.component",["@angular/core","esri-mods","rxjs/Rx"],function(a,b){"use strict";var c,d,e,f,g=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),h=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(){this.activateSubject=new e.Subject,this.deactivateSubject=new e.Subject,this.onActivate=this.activateSubject.asObservable(),this.onDeactivate=this.deactivateSubject.asObservable()}return a.prototype.ngOnInit=function(){this.editToolbar=new d.edit(this.mapInstance)},a.prototype.activate=function(){var a=this.mapInstance.graphics.graphics[0];this.editToolbar.activate(d.edit.EDIT_VERTICES,a),this.activateSubject.next(null)},a.prototype.deactivate=function(){this.editToolbar.deactivate(),this.deactivateSubject.next(null)},g([c.Input(),h("design:type",d.map)],a.prototype,"mapInstance",void 0),a=g([c.Component({selector:"map-edit",template:"<div></div>"}),h("design:paramtypes",[])],a)}(),a("MapEditComponent",f)}}}),System.registerDynamic("empty",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return d()}),System.register("digi-map/digi-map",["./src/map.component","./src/identify/map.identify.component","./src/draw/map.draw.component","./src/edit/map.edit.component","esri-mods"],function(a,b){"use strict";function c(b){var c={};for(var d in b)"default"!==d&&(c[d]=b[d]);a(c)}b&&b.id;return{setters:[function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)}],execute:function(){}}});
//# sourceMappingURL=digi-map.min.js.map