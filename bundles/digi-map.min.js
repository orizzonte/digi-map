System.register("digi-map/src/ui/toggler/toggler",["@angular/core","ng2-bootstrap/ng2-bootstrap"],function(a,b){"use strict";var c,d,e,f=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),g=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){this.isHidden=!0}return a.prototype.toggle=function(){this.isHidden=!this.isHidden},f([c.Input(),g("design:type",String)],a.prototype,"icon",void 0),a=f([c.Component({selector:"digi-toggler",template:' <button class=" btn-toggle " (click)="toggle()">\n                        <i class="material-icons ">{{icon}}</i>\n                        <i class="material-icons " *ngIf="isHidden ">keyboard_arrow_right</i>\n                        <i class="material-icons " *ngIf="!isHidden ">keyboard_arrow_left</i>\n                </button>\n                <div [style.display]="isHidden ? \'none\' : \'block\'">\n                    <ng-content></ng-content>\n                </div>',directives:[d.TOOLTIP_DIRECTIVES]}),g("design:paramtypes",[])],a)}(),a("TogglerComponent",e)}}}),System.register("digi-map/src/menu/map.menu.component",["@angular/core","ng2-bootstrap/ng2-bootstrap","../ui/toggler/toggler"],function(a,b){"use strict";var c,d,e,f,g=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),h=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(){var a=this;this.toInitialExtent=new c.EventEmitter,this.toggleIdentify=new c.EventEmitter,this.oneAtATime=!0,this.identifyActive=!1,this.status={isFirstOpen:!0,isFirstDisabled:!1},this.toggleIdentify.subscribe(function(b){return a.identifyActive=!a.identifyActive})}return a.prototype.canShowButton=function(a){return!(!this.settings||!this.settings.controls)&&this.settings.controls.indexOf(a)!==-1},g([c.Input(),h("design:type",Object)],a.prototype,"settings",void 0),g([c.Output(),h("design:type",Object)],a.prototype,"toInitialExtent",void 0),g([c.Output(),h("design:type",Object)],a.prototype,"toggleIdentify",void 0),a=g([c.Component({selector:"map-menu",template:'<digi-toggler icon=\'build\'>\n                    <div class="tabs">\n                        <tabset class="tabs-kaart-knoppen">\n                            <tab heading="Werkbalk">\n                                <accordion [closeOthers]="oneAtATime">\n                                    <accordion-group #group [isOpen]="status.open">\n                                        <div accordion-heading>\n                                            Navigatie\n                                            <i class="material-icons" *ngIf="!group?.isOpen">keyboard_arrow_down</i>\n                                        </div>\n                                        <ul class="knoppen">\n                                            <!--<li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Meet afstand"><i class="material-icons">straighten</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Meet opp."><i class="material-icons">photo_size_select_small</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Slepen"><i class="material-icons">pan_tool</i></button></li>-->\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Begin positie kaart" (click)="toInitialExtent.emit($event)"><i class="material-icons">pin_drop</i></button></li>\n                                            <!--<li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Vorige positie kaart"><i class="material-icons">settings_backup_restore</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Handleiding"><i class="material-icons">description</i></button></li>-->\n                                            <li *ngIf="canShowButton(\'identify\')"><button [class]="identifyActive ? \'btn-kaart active\' : \'btn-kaart\'" tooltipPlacement="bottom" tooltip="Detailgegevens" (click)="toggleIdentify.emit($event)"><i class="material-icons">info</i></button></li>\n                                            <!--<li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Afdrukken"><i class="material-icons">print</i></button></li>-->\n                                        </ul>\n                                    </accordion-group>\n                                    <!--<accordion-group #group [isOpen]="status.open">\n                                        <div accordion-heading>\n                                            Tekenen\n                                            <i class="material-icons" *ngIf="!group?.isOpen">keyboard_arrow_down</i>\n                                        </div>\n                                        <ul class="knoppen">\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Punt"><i class="material-icons">border_clear</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Lijn"><i class="material-icons">border_top</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Vlak"><i class="material-icons">border_outer</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Vrij tekenen"><i class="material-icons">&#xE6E1;</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Rechthoeken"><i class="material-icons">check_box_outline_blank</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Cirkels"><i class="material-icons">radio_button_unchecked</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Ellips"><i class="material-icons ovaal">radio_button_unchecked</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Pijl"><i class="material-icons">arrow_forward</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Wijzig"><i class="material-icons">mode_edit</i></button></li>\n                                            <li><button class="btn-kaart" tooltipPlacement="bottom" tooltip="Verwijder"><i class="material-icons">delete_forever</i></button></li>\n                                        </ul>\n                                    </accordion-group>-->\n                                </accordion>\n                            </tab>\n                            <tab heading="Kaartlagen">\n                                <div class="layerlist"></div>\n                            </tab>\n                        </tabset>\t\t\n                    </div>\n                </digi-toggler>',directives:[d.TOOLTIP_DIRECTIVES,d.TAB_DIRECTIVES,e.TogglerComponent,d.ACCORDION_DIRECTIVES]}),h("design:paramtypes",[])],a)}(),a("MapMenuComponent",f)}}}),System.register("digi-map/src/navigation/map.navigation.component",["@angular/core","esri-mods"],function(a,b){"use strict";var c,d,e,f=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),g=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){}return a.prototype.toInitialExtent=function(){this.zoomToExtent(this.initialExtent)},a.prototype.zoomToExtent=function(a){this.mapInstance.setExtent(a,!0)},a.prototype.zoomToGeometry=function(a){a.setSpatialReference(new d.SpatialReference({wkid:31370})),this.zoomToExtent(a.getExtent())},a.prototype.ngOnInit=function(){void 0!==this.settings.extent&&(this.initialExtent=new d.Extent({xmin:this.settings.extent.xmin,ymin:this.settings.extent.ymin,xmax:this.settings.extent.xmax,ymax:this.settings.extent.ymax,spatialReference:new d.SpatialReference({wkid:31370})}),this.zoomToExtent(this.initialExtent))},f([c.Input(),g("design:type",d.map)],a.prototype,"mapInstance",void 0),f([c.Input(),g("design:type",Object)],a.prototype,"settings",void 0),a=f([c.Component({selector:"map-navigation",template:""}),g("design:paramtypes",[])],a)}(),a("MapNavigationComponent",e)}}}),System.register("digi-map/src/map.component",["@angular/core","esri-mods","./identify/map.identify.component","./draw/map.draw.component","./edit/map.edit.component","./menu/map.menu.component","./navigation/map.navigation.component"],function(a,b){"use strict";var c,d,e,f,g,h,i,j,k,l=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),m=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a},function(a){g=a},function(a){h=a},function(a){i=a}],execute:function(){j=function(){function a(a,b){this.name=a,this.control=b}return a}(),a("MapControl",j),k=function(){function a(a){this.elRef=a,this.divId="map",this.mapLoaded=new c.EventEmitter,this.themes=[],this.controls=[],this.isLoading=!1,this.useIdentifyControl=!1,this.useDrawControl=!1,this.useEditControl=!1,this.domElement=a.nativeElement}return a.prototype.ngAfterViewInit=function(){this.controls.push(new j("navigation",this.navigation)),this.useIdentifyControl&&this.controls.push(new j("identify",this.identify)),this.useDrawControl&&this.controls.push(new j("draw",this.draw)),this.useEditControl&&this.controls.push(new j("edit",this.edit))},a.prototype.ngOnInit=function(){var a=this,b=this;this.currentMap=new d.map("map"===this.divId?"map":this.domElement),this.layerListDomElement=$(this.domElement).find(".layerlist")[0],this.settings.controls.indexOf("identify")!==-1&&(this.useIdentifyControl=!0),this.settings.controls.indexOf("draw")!==-1&&(this.useDrawControl=!0),this.settings.controls.indexOf("edit")!==-1&&(this.useEditControl=!0),this.currentMap.on("layers-add-result",function(a){var c={map:b.currentMap,layers:d.utils.getLayerList(this.currentMap),removeUnderscores:!0,showLegend:!0},e=new d.LayerList(c,b.layerListDomElement);e.startup()}),void 0!==this.settings.themes&&(this.settings.themes.forEach(function(b){var c={visible:!b.hideOnStartup};switch(b.type){case"dynamic":var e=new d.ArcGISDynamicMapServiceLayer(b.url,c);e.id=b.title,a.themes.push(e);break;case"tiled":var f=new d.ArcGISTiledMapServiceLayer(b.url,c);f.id=b.title,a.themes.push(f);break;case"wmts":a.settings.proxy&&(d.config.defaults.io.proxyUrl=a.settings.proxy);var g=new d.WMTSLayerInfo({identifier:b.identifier,format:"png"}),h={serviceMode:"KVP",layerInfo:g,visible:c.visible},i=new d.WMTSLayer(b.url,h);i.id=b.title,a.themes.push(i)}}),this.currentMap.addLayers(this.themes)),this.currentMap.on("update-start",function(a){b.isLoading=!0}),this.currentMap.on("update-end",function(a){b.isLoading=!1}),this.currentMap.on("load",function(a){console.log("map loaded")})},l([c.Input(),m("design:type",Object)],a.prototype,"settings",void 0),l([c.Input(),m("design:type",String)],a.prototype,"divId",void 0),l([c.Output(),m("design:type",Object)],a.prototype,"mapLoaded",void 0),l([c.ViewChild(i.MapNavigationComponent),m("design:type",i.MapNavigationComponent)],a.prototype,"navigation",void 0),l([c.ViewChild(e.MapIdentifyComponent),m("design:type",e.MapIdentifyComponent)],a.prototype,"identify",void 0),l([c.ViewChild(f.MapDrawComponent),m("design:type",f.MapDrawComponent)],a.prototype,"draw",void 0),l([c.ViewChild(g.MapEditComponent),m("design:type",g.MapEditComponent)],a.prototype,"edit",void 0),a=l([c.Component({selector:"esri-map",template:' <div id=\'map\' [id]="divId">\n                    <div class="map-loading" *ngIf="isLoading" style="position: absolute; z-index: 99999999999;">Bezig met laden...</div>\n                    <map-navigation [mapInstance]="currentMap" [settings]="settings"></map-navigation>\n                    <map-identify *ngIf="useIdentifyControl" [mapInstance]="currentMap" [settings]="settings"></map-identify>\n                    <map-draw *ngIf="useDrawControl" [mapInstance]="currentMap"></map-draw>\n                    <map-edit *ngIf="useEditControl" [mapInstance]="currentMap"></map-edit> \n                    <ng-content></ng-content>\n                    <map-menu [settings]="settings"\n                        (toInitialExtent)="navigation.toInitialExtent($event)"\n                        (toggleIdentify)="identify.toggle($event)">\n                    </map-menu>\n                </div>',directives:[e.MapIdentifyComponent,f.MapDrawComponent,g.MapEditComponent,h.MapMenuComponent,i.MapNavigationComponent]}),m("design:paramtypes",[c.ElementRef])],a)}(),a("MapComponent",k)}}}),System.register("digi-map/src/componentbuilder/custom.component.builder",["@angular/core"],function(a,b){"use strict";var c,d,e=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),f=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a}],execute:function(){d=function(){function a(){}return a.prototype.CreateComponent=function(a,b){var d=function(){function d(){}return d.prototype.toArray=function(a){var b=[];for(var c in a)!c||c.startsWith("SHAPE")||c.startsWith("OBJECTID")||b.push({key:c,value:a[c]});return b},d.prototype.outputEntity=function(){return this.entity?JSON.stringify(this.entity):"entity undefined"},d=e([c.Component({selector:"dynamic-component",template:a,directives:b}),f("design:paramtypes",[])],d)}();return d},a}(),a("CustomComponentBuilder",d)}}}),System.register("digi-map/src/componentbuilder/dynamic.component.holder",["@angular/core","@angular/common","./custom.component.builder"],function(a,b){"use strict";var c,d,e,f,g,h=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),i=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a,d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(a,b){this.componentResolver=a,this.customComponentBuilder=b}return a.prototype.ngOnChanges=function(){this.component&&(this.component.title=this.title,this.component.entity=this.entity,this.template!==this.previousTemplate&&(this.dynamicComponentTarget.clear(),this.ngOnInit()))},a.prototype.ngOnInit=function(){var a=this,b=this.customComponentBuilder.CreateComponent(this.template,e.FORM_DIRECTIVES);this.componentResolver.resolveComponent(b).then(function(b){var c=a.dynamicComponentTarget.createComponent(b,0);a.component=c.instance,a.previousTemplate=a.template,a.component.title=a.title,a.component.entity=a.entity})},h([c.Input(),i("design:type",Object)],a.prototype,"entity",void 0),h([c.Input(),i("design:type",String)],a.prototype,"title",void 0),h([c.Input(),i("design:type",String)],a.prototype,"template",void 0),h([d.ViewChild("dynamicContentPlaceHolder",{read:d.ViewContainerRef}),i("design:type",d.ViewContainerRef)],a.prototype,"dynamicComponentTarget",void 0),a=h([c.Component({selector:"dynamic-holder",template:"\n<div>  \n  <div #dynamicContentPlaceHolder></div>  \n</div>\n",providers:[f.CustomComponentBuilder]}),i("design:paramtypes",[d.ComponentResolver,f.CustomComponentBuilder])],a)}(),a("DynamicHolder",g)}}}),System.register("digi-map/src/identify/map.identify.results.component",["@angular/core","../componentbuilder/dynamic.component.holder"],function(a,b){"use strict";var c,d,e,f=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),g=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a}],execute:function(){e=function(){function a(){this.dropDownResults=[]}return a.prototype.calculateDropDownResults=function(){var a=this;if(this.results){var b=[];return this.results.forEach(function(c){c.layerResults.forEach(function(c){c.data.forEach(function(d){var e={layerName:d.layerName,value:d.value,data:d,template:a.findTemplate(c.templateId)};b.push(e)})})}),b}},a.prototype.findTemplate=function(a){return this.settings.identify.templates.find(function(b){return b.id===a}).html},a.prototype.ngOnInit=function(){var a='        \n                <ul *ngIf="entity">                \n                    <li *ngFor="let attribute of toArray(entity.feature.attributes)">\n                        <label>{{attribute?.key}} :</label> {{attribute?.value}}\n                    </li>\n                </ul>';this.settings.identify.templates.push({id:"DefaultDigiMapTemplate",html:a})},a.prototype.ngOnChanges=function(){this.dropDownResults=this.calculateDropDownResults(),this.dropDownResults&&this.dropDownResults.length>0?(this.currentResult=this.dropDownResults[0].data,this.currentTemplate=this.dropDownResults[0].template):(this.currentResult=void 0,this.currentTemplate=void 0)},a.prototype.resultName=function(a){return a.layerName+": "+a.value},a.prototype.selectResult=function(a){this.currentResult=this.dropDownResults[a].data,this.currentTemplate=this.dropDownResults[a].template},f([c.Input(),g("design:type",Object)],a.prototype,"settings",void 0),f([c.Input(),g("design:type",Array)],a.prototype,"results",void 0),a=f([c.Component({selector:"digi-identify-results",template:' <div style="display:none">\n                    <div id="popup-content">                     \n                        <div *ngIf="dropDownResults && dropDownResults.length > 0">\n                            <select (change)="selectResult($event.target.value)">\n                                <option *ngFor="let result of dropDownResults; let i=index" [value]="i">{{resultName(result)}}</option>                           \n                            </select>  \n\n                            <dynamic-holder [entity]="currentResult" [title]="\'Details\'" [template]="currentTemplate" *ngIf="currentResult && currentTemplate"></dynamic-holder>                           \n                        </div>                      \n                        <div *ngIf="!dropDownResults">Bezig met ophalen van gegevens...</div>  \n                        <div *ngIf="dropDownResults && dropDownResults.length==0">Geen resultaten gevonden</div>  \n\n                    </div>\n                </div>',directives:[d.DynamicHolder]}),g("design:paramtypes",[])],a)}(),a("IdentifyResultsComponent",e)}}}),System.register("digi-map/src/identify/map.identify.component",["@angular/core","esri-mods","../componentbuilder/dynamic.component.holder","./map.identify.results.component"],function(a,b){"use strict";var c,d,e,f,g,h=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),i=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a},function(a){f=a}],execute:function(){g=function(){function a(){this.onIdentify=new c.EventEmitter,this.isActive=!1}return a.prototype.ngOnInit=function(){function a(a,b){a.forEach(function(a){var c=b.layerResults.find(function(b){return b.layerId===a.layerId});c||(c={layerId:a.layerId,data:[]},b.layerResults.push(c)),c.data.push(a)})}var b=this;this.onIdentify.subscribe(function(a){var c=[],d=b.settings;b.results&&b.results.forEach(function(a){c.push(a)}),c.push(a),c.forEach(function(a){var b=d.themes.find(function(b){return b.url===a.url});a.layerResults.forEach(function(a){var c=b.identifyTemplateMappings.find(function(b){return b.layerId===a.layerId});a.templateId=c?c.templateId:"DefaultDigiMapTemplate"})}),b.results=c}),this.settings&&this.settings.identify||(this.isActive=!1),this.infoWindow=new d.InfoWindowLite(null,"popup"),this.infoWindow.startup(),this.mapInstance.infoWindow=this.infoWindow,this.infoWindow.resize(this.settings.identify.width||310,this.settings.identify.height||350),this.infoWindow.setTitle(this.settings.identify.title||"Details"),this.infoWindow.setContent(document.getElementById("popup-content")),this.mapInstance.on("click",function(c){if(b.isActive){var e=b;b.results=void 0,b.settings.themes.filter(function(a){return a.identifyable||!1}).forEach(function(b){var f={url:b.url,layerResults:[]},g=new d.IdentifyTask(b.url),h=new d.IdentifyParameters;h.tolerance=3,h.returnGeometry=!0,h.layerOption=d.IdentifyParameters.LAYER_OPTION_VISIBLE,h.geometry=c.mapPoint,h.mapExtent=e.mapInstance.extent;var i=function(b){a(b,f),e.onIdentify.emit(f)};g.execute(h).addCallback(i)}),b.infoWindow.show(c.mapPoint)}})},a.prototype.toggle=function(){this.isActive=!this.isActive,this.infoWindow.hide()},h([c.Input(),i("design:type",d.map)],a.prototype,"mapInstance",void 0),h([c.Input(),i("design:type",Object)],a.prototype,"settings",void 0),h([c.Output(),i("design:type",Object)],a.prototype,"onIdentify",void 0),a=h([c.Component({selector:"map-identify",template:"\t<div class='map-identify'>\t\t\t\t\t\n\t\t\t  \t</div>\n\t\t\t  \t<div id='popup'></div>\n\t\t\t\t<digi-identify-results [results]='results' [settings]=\"settings\"></digi-identify-results>",directives:[e.DynamicHolder,f.IdentifyResultsComponent]}),i("design:paramtypes",[])],a)}(),a("MapIdentifyComponent",g)}}}),System.register("digi-map/src/draw/map.draw.component",["@angular/core","esri-mods","rxjs/Rx"],function(a,b){"use strict";var c,d,e,f,g,h=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),i=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){!function(a){a[a.Point=1]="Point",a[a.Multiline=2]="Multiline"}(f||(f={})),a("GeometryType",f),g=function(){function a(){this.activateSubject=new e.Subject,this.deactivateSubject=new e.Subject,this.drawCompleteSubject=new e.Subject,this.onActivate=this.activateSubject.asObservable(),this.onDeactivate=this.deactivateSubject.asObservable(),this.onDrawComplete=this.drawCompleteSubject.asObservable()}return a.prototype.ngOnInit=function(){var a=this;this.drawToolbar=new d.draw(this.mapInstance),this.drawToolbar.on("draw-complete",function(b){var c;switch(b.geometry.type){case"polyline":var e=new d.SimpleLineSymbol;e.setColor(new d.Color("#ff2800")),e.setWidth(2),c=e;break;default:var f=new d.SimpleFillSymbol;f.setColor(new d.Color("#ff2800")),c=f}var g=new d.graphic(b.geometry,c);a.mapInstance.graphics.add(g),a.deactivate(),a.drawCompleteSubject.next(b)})},a.prototype.activate=function(a){switch(a){case f.Multiline:this.drawToolbar.activate(d.draw.POLYLINE)}this.activateSubject.next(null)},a.prototype.deactivate=function(){this.drawToolbar.deactivate(),this.deactivateSubject.next(null)},a.prototype.finishDrawing=function(){this.drawToolbar.finishDrawing()},h([c.Input(),i("design:type",d.map)],a.prototype,"mapInstance",void 0),a=h([c.Component({selector:"map-draw",template:"<div></div>"}),i("design:paramtypes",[])],a)}(),a("MapDrawComponent",g)}}}),System.register("digi-map/src/edit/map.edit.component",["@angular/core","esri-mods","rxjs/Rx"],function(a,b){"use strict";var c,d,e,f,g=(b&&b.id,this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}),h=this&&this.__metadata||function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)};return{setters:[function(a){c=a},function(a){d=a},function(a){e=a}],execute:function(){f=function(){function a(){this.activateSubject=new e.Subject,this.deactivateSubject=new e.Subject,this.onActivate=this.activateSubject.asObservable(),this.onDeactivate=this.deactivateSubject.asObservable()}return a.prototype.ngOnInit=function(){this.editToolbar=new d.edit(this.mapInstance)},a.prototype.activate=function(){var a=this.mapInstance.graphics.graphics[0];this.editToolbar.activate(d.edit.EDIT_VERTICES,a,{boxLineSymbol:new d.SimpleLineSymbol(d.SimpleLineSymbol.STYLE_DASH,new d.Color("ff2800"),2),ghostLineSymbol:new d.SimpleLineSymbol(d.SimpleLineSymbol.STYLE_DASH,new d.Color("ff2800"),2)}),this.activateSubject.next(null)},a.prototype.deactivate=function(){this.editToolbar.deactivate(),this.deactivateSubject.next(null)},g([c.Input(),h("design:type",d.map)],a.prototype,"mapInstance",void 0),a=g([c.Component({selector:"map-edit",template:"<div></div>"}),h("design:paramtypes",[])],a)}(),a("MapEditComponent",f)}}}),System.registerDynamic("empty",[],!1,function(a,b,c){var d=System.get("@@global-helpers").prepareGlobal(c.id,null,null);return d()}),System.register("digi-map/digi-map",["./src/map.component","./src/identify/map.identify.component","./src/draw/map.draw.component","./src/edit/map.edit.component","esri-mods"],function(a,b){"use strict";function c(b){var c={};for(var d in b)"default"!==d&&(c[d]=b[d]);a(c)}b&&b.id;return{setters:[function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)},function(a){c(a)}],execute:function(){}}});
//# sourceMappingURL=digi-map.min.js.map